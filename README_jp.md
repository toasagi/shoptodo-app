# ShopTodo - E2Eテスト練習用Webアプリケーション

E2E（End-to-End）テストの練習に最適なシンプルなWebアプリケーションです。

## 機能概要

### 1. ユーザー認証
- **ログイン**: デモユーザーでログイン可能
- **ログアウト**: セッション管理
- **デモ認証情報**:
  - ユーザー名: `demo`
  - パスワード: `password`

### 2. 商品カタログ
- **商品一覧表示**: 12種類のサンプル商品
- **検索機能**: 商品名での部分一致検索
- **カテゴリフィルタ**: 電子機器、衣類、書籍、ホーム
- **ソート機能**: 名前順、価格（安い順・高い順）

### 3. ショッピングカート
- **商品追加**: カートへの商品追加（ログイン必須）
- **数量変更**: +/- ボタンで数量調整
- **商品削除**: カートから商品を削除
- **合計表示**: 総額の自動計算
- **チェックアウト**: 購入処理のシミュレーション

### 4. ToDoリスト（お気に入り商品メモ）
- **メモ追加**: お気に入り商品のメモを追加（ログイン必須）
- **完了切り替え**: チェックボックスで完了状態を管理
- **メモ削除**: 不要なメモの削除

### 5. 言語切り替え機能
- **多言語対応**: 日本語（JP）と英語（EN）の切り替え
- **設定の永続化**: 選択した言語をlocalStorageに保存
- **全UI対応**: すべてのテキスト、メッセージ、商品名が翻訳対応
- **動的コンテンツ**: 商品一覧、カート、ToDoリストも言語切り替えに対応

## ファイル構成

```
shoptodo-app/
├── index.html      # メインHTML（アプリの構造）
├── styles.css      # スタイルシート（レスポンシブ対応）
├── app.js          # JavaScript（全機能の実装）
├── README.md       # 英語版説明書
└── README_jp.md    # 日本語版説明書（このファイル）
```

## 使用方法

### 1. アプリケーションの起動

ローカルサーバーで実行することをおすすめします：

```bash
# Python 3の場合
python -m http.server 8000

# Python 2の場合
python -m SimpleHTTPServer 8000

# Node.jsのhttp-serverを使用する場合
npx http-server
```

ブラウザで `http://localhost:8000` にアクセスしてください。

### 2. 基本的な操作フロー

1. **ログイン**
   - 「ログイン」ボタンをクリック
   - ユーザー名: `demo`、パスワード: `password` を入力
   - 「ログイン」ボタンでログイン

2. **商品閲覧・検索**
   - 商品一覧から気になる商品を探す
   - 検索ボックスで商品名を検索
   - カテゴリやソートでフィルタリング

3. **ショッピング**
   - 商品の「カートに追加」ボタンをクリック
   - サイドバーのカートで数量調整
   - 「チェックアウト」で購入手続き

4. **メモ管理**
   - ToDoリストにお気に入り商品のメモを追加
   - 完了チェックや削除も可能

5. **言語切り替え**
   - ヘッダーの「EN」「JP」ボタンで言語を切り替え
   - 設定は自動保存され、次回アクセス時も適用される

## E2Eテストのポイント

このアプリケーションは以下のテストシナリオに適しています：

### 認証フロー
- ログイン成功・失敗のテスト
- ログイン状態でのUI変化
- ログアウト機能

### 商品検索・フィルタ
- 検索機能の動作確認
- カテゴリフィルタの適用
- ソート機能の検証

### ショッピングカート
- 商品追加の動作
- 数量変更の確認
- カート内容の永続化
- チェックアウトプロセス

### ToDoリスト
- アイテム追加・削除
- 完了状態の切り替え
- データの永続化

### レスポンシブデザイン
- 異なる画面サイズでの表示確認
- モバイル表示での操作性

### 言語切り替え
- 日本語と英語の言語切り替え機能
- 翻訳されたUI要素の確認
- 言語設定の永続化テスト

## データ管理

- **localStorage**を使用してデータを永続化
- セッション情報、カート内容、ToDoリスト、言語設定を保存
- ページリロード後もデータが保持される

## 技術仕様

- **フロントエンド**: HTML5, CSS3, Vanilla JavaScript
- **データストレージ**: localStorage
- **レスポンシブ**: CSS Grid, Flexbox
- **多言語対応**: i18n オブジェクトによる翻訳管理
- **モダンブラウザ対応**: ES6+

## ブラウザサポート

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## カスタマイズ

### 商品データの変更
`app.js`の`initializeData()`メソッド内で商品データを編集できます。

### スタイルの調整
`styles.css`でデザインをカスタマイズできます。

### 新機能の追加
`app.js`の`AppState`と`UIManager`クラスを拡張して新機能を追加できます。

## テスト

このプロジェクトはJestを使用した包括的なユニットテストを含んでいます。

### テストの実行

まず、依存関係をインストールします：

```bash
npm install
```

すべてのテストを実行：

```bash
npm test
```

ウォッチモードでテストを実行（開発時）：

```bash
npm run test:watch
```

テストカバレッジレポートを生成：

```bash
npm run test:coverage
```

### テスト構成

```
tests/
├── setup.js              # Jest設定とモック
├── testUtils.js          # テストユーティリティとヘルパー
├── AppState.test.js      # AppStateクラスのユニットテスト
├── UIManager.test.js     # UIManagerクラスのユニットテスト
└── i18n.test.js          # 翻訳データの検証テスト
```

### テストカバレッジ

テストスイートは以下をカバーしています：

- **認証機能**: ログイン/ログアウト機能
- **カート管理**: 追加、削除、数量更新、合計計算
- **Todo管理**: 追加、切り替え、削除
- **商品フィルタリング**: 検索、カテゴリフィルタ、ソート
- **言語切り替え**: UI翻訳と永続化
- **データ永続化**: localStorage操作
- **翻訳データ**: i18nキーの整合性と完全性

目標カバレッジ: 分岐、関数、行、文について80%以上

## 注意事項

- このアプリケーションは**教育・テスト目的**のみです
- 実際の決済機能は含まれていません
- データはブラウザのlocalStorageに保存されます
- セキュリティ機能は最小限です

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。学習・テスト目的での自由な使用が可能です。